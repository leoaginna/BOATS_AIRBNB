<div class="container">
  <div class='d-flex justify-content-between'>
    <%= link_to root_path, class: 'btn btn-secondary my-3' do %>
      <i class="fa-solid fa-left-long"></i>
    <%end%>
    <%= link_to 'Back to my boats', myboats_path, class: 'btn btn-primary my-3' if current_user == @boat.user%>
  </div>

  <div class="row my-3">
    <div class="col-md-12">
      <h1><%= @boat.name %></h1>
      <% @boat.photos.each do |photo| %>
        <%= cl_image_tag photo.key, height: 300, width: 400, crop: :fill, class: 'img-fluid rounded mb-2' %>
      <% end %>
      <p><strong>Description: </strong><%= @boat.description %></p>
      <p><strong>Price: </strong><%= @boat.price %></p>
      <p><strong>Address: </strong><%= @boat.address %></p>
    </div>
  </div>

  <% if current_user == @boat.user %>
      <%if @boat.available == false  %>
      <p class='text-danger'><strong>Suspended, not available in the platform</strong></p>
      <% end %>
      <div class='d-flex'>
      <%= link_to 'Edit', edit_boat_path(@boat), class: "btn btn-outline-info btn-sm" %>
      <%= form_for @boat, url: suspend_boat_path(@boat), method: :patch, class: "d-inline" do |f| %>
      <%= f.button type: "submit", class: "btn btn-outline-warning btn-sm", data: { confirm: "Are you sure you want to suspend this boat?" } do %>
        Suspend/reactivate
      <% end %>
      <%= link_to "Delete", delete_my_boat_path(@boat), class: "btn btn-outline-danger btn-sm", data: { turbo_method: :delete, turbo_confirm: "Are you sure?" } %>
      <% end %>
    </div>
  <% else %>
      <%= render "rental-form", rental: @rental %>
  <% end %>
</div>
